// ! –î–ó 45. –ë–∞–Ω–∫–æ–º–∞—Ç –Ω–∞ Promise

// –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –∑–∞–ø—Ä–æ—Å–∞ —É –±–∞–Ω–∫–æ–º–∞—Ç–∞:

// –±–∞–ª–∞–Ω—Å–∞ –Ω–∞ –∫–∞—Ä—Ç–µ
// –≤—ã–¥–∞—á–∏ –Ω–∞–ª–∏—á–Ω—ã—Ö

// –í—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ:

let userData = {
    'USD': 1000,
    'EUR': 900,
    'UAH': 15000,
    'BIF': 20000,
    'AOA': 100
},
    bankData = {
        'USD': {
            max: 3000,
            min: 100,
            img: 'üíµ'
        },
        'EUR': {
            max: 1000,
            min: 50,
            img: 'üí∂'
        },
        'UAH': {
            max: 0,
            min: 0,
            img: 'üí¥'
        },
        'GBP': {
            max: 10000,
            min: 100,
            img: 'üí∑'
        }
    }

// –î–ª—è —ç—Ç–æ–≥–æ –ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é getMoney, –∫–æ—Ç–æ—Ä–∞—è:

// –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥—è—â–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã userData –∏ bankData.
// –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –≤ –∫–æ—Ç–æ—Ä–æ–º —É—Å–ª–æ–≤–∏–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –ø–µ—Ä–≤—ã–π .then —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–≤–µ—Ç —é–∑–µ—Ä–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å
// '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å –Ω–∞ –∫–∞—Ä—Ç–µ?‚Äô.

// –ï—Å–ª–∏ —é–∑–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –î–∞ (Yes, –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å), —Ç–æ –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é resolve(userData)
// –í —Ñ—É–Ω–∫—Ü–∏–∏ resolve, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–∞–ª—é—Ç (userData),
// –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–≤–µ—Å—Ç–∏ –≤–∞–ª—é—Ç—É, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –±–∞–ª–∞–Ω—Å.

// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç—å –≤ prompt –Ω–∞–∑–≤–∞–Ω–∏–µ –ù–ï–¥–æ–ø—É—Å—Ç–∏–º–æ–π –¥–ª—è –Ω–µ–≥–æ –≤–∞–ª—é—Ç—ã, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –≤–∞–ª—é—Ç—É,
// –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤–≤–µ–¥–µ–Ω–∞ –¥–æ–ø—É—Å—Ç–∏–º–∞—è.

// –ü—Ä–∏ –≤–≤–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º–æ–π –µ–º—É –≤–∞–ª—é—Ç—ã ‚Äì –≤—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –æ –±–∞–ª–∞–Ω—Å–µ –ø–æ –¥–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å,
// –Ω–∞–ø—Ä–∏–º–µ—Ä: ‚Äò–ë–∞–ª–∞–Ω—Å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç: 1000 USD‚Äô.
// –ï—Å–ª–∏ —é–∑–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –û—Ç–º–µ–Ω–∞ (No), —Ç–æ –≤–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é reject({userData: userData, bankData: bankData})

// –í —Ñ—É–Ω–∫—Ü–∏–∏ reject, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–∞–ª—é—Ç (userData) –∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞–ª—é—Ç –≤ —Ç–µ–∫—É—â–µ–º –±–∞–Ω–∫–æ–º–∞—Ç–µ bankData
// (—Å –ù–ï –Ω—É–ª–µ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —Å–≤–æ–π—Å—Ç–≤–∞ max, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∫—É–ø—é—Ä —ç—Ç–æ–π –≤–∞–ª—é—Ç—ã –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ),
// –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–≤–µ—Å—Ç–∏ –≤–∞–ª—é—Ç—É, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–æ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –∏ —Å—É–º–º—É —Å–Ω—è—Ç–∏—è.

// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤ prompt –Ω–∞–∑–≤–∞–Ω–∏–µ –ù–ï–¥–æ–ø—É—Å—Ç–∏–º–æ–π –¥–ª—è –Ω–µ–≥–æ –∏ –¥–ª—è –±–∞–Ω–∫–æ–º–∞—Ç–∞ –≤–∞–ª—é—Ç—ã, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –≤–∞–ª—é—Ç—É, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤–≤–µ–¥–µ–Ω–∞ –¥–æ–ø—É—Å—Ç–∏–º–∞—è.
// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤ prompt —Å—É–º–º—É –ø—Ä–µ–≤—ã—à–∞—é—â—É—é max –¥–ª—è –¥–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã, –≤—ã–≤–æ–¥–∏–º –≤ –∫–æ–Ω—Å–æ–ª—å —Å–æ–æ–±—â–µ–Ω–∏–µ: `–í–≤–µ–¥–µ–Ω–Ω–∞—è —Å—É–º–º–∞ –±–æ–ª—å—à–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —Å–Ω—è—Ç–∏—è: ‚Ä¶`
// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤ prompt —Å—É–º–º—É –º–µ–Ω—å—à–µ min –¥–ª—è –¥–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã, –≤—ã–≤–æ–¥–∏–º –≤ –∫–æ–Ω—Å–æ–ª—å —Å–æ–æ–±—â–µ–Ω–∏–µ: `–í–≤–µ–¥–µ–Ω–Ω–∞—è —Å—É–º–º–∞ –º–µ–Ω—å—à–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–π. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —Å–Ω—è—Ç–∏—è: ‚Ä¶`
// –ü—Ä–∏ –≤–≤–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –¥–æ–ø—É—Å—Ç–∏–º–æ–π –µ–º—É –∏ —Ç–µ–∫—É—â–µ–º—É –±–∞–Ω–∫–æ–º–∞—Ç—É –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã –∏ —Å—É–º–º—É ‚Äì –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–Ω—è—Ç–∏–∏ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –∫–æ–Ω—Å–æ–ª—å,
// –Ω–∞–ø—Ä–∏–º–µ—Ä: ‚Äò–í–æ—Ç –í–∞—à–∏ –¥–µ–Ω–µ–∂–∫–∏ 200 USD üíµ‚Äô.
// –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±–æ—Ä–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —é–∑–µ—Ä –≤ –∫–æ–Ω—Å–æ–ª–∏ ‚Äì '–°–ø–∞—Å–∏–±–æ, —Ö–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è üòä'

function getMoney(userData, bankData) {
    return new Promise((resolve, reject) => {
        (confirm("–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å –Ω–∞ –∫–∞—Ä—Ç–µ?")) ? resolve(userData) : reject({ userData: userData, bankData: bankData });
    })
}

const valuta = () => {
    let valuta;
    do {
        valuta = prompt("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ USD, EUR, UAH, BIF, AOA").toUpperCase();
    } while (valuta !== "USD" && valuta !== "EUR" && valuta !== "UAH" && valuta !== "BIF"
        && valuta !== "AOA");
    return valuta;
};

getMoney(userData, bankData)
    .then(
        obj => {
            const valuta1 = valuta();
            console.log(`–ë–∞–ª–∞–Ω—Å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç: ${obj[valuta1]} ${valuta1}`);
        },
        obj => {
            const valuta1 = valuta();

            if (valuta1 === "BIF") {
               return console.log(`–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ –æ—Ç—Å—É—Ç–≤—Å—Ç–≤—É–µ—Ç –≤–∞—à–∞ –≤–∞–ª—é—Ç–∞ ${valuta1}`);
            }

            let summ;
            summ = +prompt("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è —Å–Ω—è—Ç–∏—è –Ω–∞–ª–∏—á–Ω—ã—Ö");

            if (summ > `${obj.bankData[valuta1].max}`) {
                (`${obj.bankData[valuta1].max}` === "0") ? console.log("–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ —Å–æ–≤—Å–µ–º –Ω–µ—Ç –∫—É–ø—é—Ä –≤–∞—à–µ–π –≤–∞–ª—é—Ç—ã")
                    : console.log(`–í–≤–µ–¥–µ–Ω–Ω–∞—è —Å—É–º–º–∞ –±–æ–ª—å—à–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —Å–Ω—è—Ç–∏—è: ${obj.bankData[valuta1].max} ${valuta1}`);
            } else if (summ < `${obj.bankData[valuta1].min}`) {
                (`${obj.bankData[valuta1].min}` === "0") ? console.log("–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ —Å–æ–≤—Å–µ–º –Ω–µ—Ç –∫—É–ø—é—Ä –≤–∞—à–µ–π –≤–∞–ª—é—Ç—ã")
                    : console.log(`–í–≤–µ–¥–µ–Ω–Ω–∞—è —Å—É–º–º–∞ –º–µ–Ω—å—à–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–π. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —Å–Ω—è—Ç–∏—è: ${obj.bankData[valuta1].min} ${valuta1}`);
            } else {
                (`${summ}` === 0) ? console.log("–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ —Å–æ–≤—Å–µ–º –Ω–µ—Ç –∫—É–ø—é—Ä –≤–∞—à–µ–π –≤–∞–ª—é—Ç—ã") :
                    console.log(`–í–æ—Ç –í–∞—à–∏ –¥–µ–Ω–µ–∂–∫–∏ ${summ} ${valuta1} ${obj.bankData[valuta1].img}.`);
            }
        }
    )
    .finally(
        () => console.log("–°–ø–∞—Å–∏–±–æ, —Ö–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è.")
    )
